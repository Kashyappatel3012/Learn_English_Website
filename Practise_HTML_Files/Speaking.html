<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn English</title>
    <link rel="stylesheet" href="../CSS_Files/Index.css">
    <link rel="shortcut icon" href="../Images/Fevicon.png" type="image/x-icon">
    <script src="../JS_Files/home.js"></script>
    <link href='https://unpkg.com/css.gg@2.0.0/icons/css/menu.css' rel='stylesheet'>
</head>
<body>
    <header>
        <nav>
            <div class="logo animated-text">Learn English</div>
            <!-- <button id="toggleButton">Toggle Sidebar</button> -->      
            <div id="three_line"><i class="gg-menu"></i></div>
            <ul>
                <li><a href="../home.html">Home</a></li>
                <li><a href="../Practise.html" class="active">Practise</a></li>
                <li><a href="../Exam.html">Exam</a></li>
                <li><a href="../about.html">About</a></li>
            </ul>
        </nav>
    </header>

    <div class="sidebar" id="sidebar">
        <ul>
            <li>
                <span class="main_topic" id="togglebasic">Basic</span>
                <ul id="Basic" class="sub_topic"> <!-- Change id to "Basic" -->
                    <li><a href="Alphabets.html">Alphabets</a></li>
                    <li><a href="Vowel.html">Vowel</a></li>
                    <li><a href="Consonants.html">Consonants</a></li>
                </ul>
            </li>
            
            <li>
                <span class="main_topic" id="togglegrammer">Grammar</span> <!-- Change id to "togglegrammar" and text to "Grammar" -->
                <ul id="Grammar" class="sub_topic"> <!-- Change id to "Grammar" -->
                    <li><a href="Nouns.html">Nouns</a></li>
                    <li><a href="Pronouns.html">Pronouns</a></li>
                    <li><a href="Verbs.html">Verbs</a></li>
                    <li><a href="Adjectives.html">Adjectives</a></li>
                    <li><a href="Adverbs.html">Adverbs</a></li>
                    <li><a href="Prepositions.html">Prepositions</a></li>
                    <li><a href="Conjunctions.html">Conjunctions</a></li>
                    <li><a href="Interjections.html">Interjections</a></li>
                    <li><a href="Subject_and_Predicate.html">Subject and Predicate</a></li>
                    <li><a href="Simple_sentences.html">Simple sentences</a></li>
                    <li><a href="Compound_sentences.html">Compound sentences</a></li>
                    <li><a href="Complex_sentences.html">Complex sentences</a></li>
                    <li><a href="Present_Tense.html">Present Tense</a></li>
                    <li><a href="Past_Tense.html">Past Tense</a></li>
                    <li><a href="Future_Tense.html">Future Tense</a></li>
                    <li><a href="Can_Could.html">Can & Could</a></li>
                    <li><a href="Will_Would.html">Will & Would</a></li>
                    <li><a href="Shall_Should.html">Shall & Should</a></li>
                    <li><a href="May_Might.html">May & Might</a></li>
                    <li><a href="Must.html">Must</a></li>
                    <li><a href="Active_Voice.html">Active Voice</a></li>
                    <li><a href="Passive_Voice.html">Passive Voice</a></li>
                    <li><a href="Actibe_Passive.html">Active to Passive Voice</a></li>
                    <li><a href="Indicative.html">Indicative</a></li>
                    <li><a href="Imperative.html">Imperative</a></li>
                    <li><a href="Subjunctive.html">Subjunctive</a></li>
                    <li><a href="Zero_Conditional.html">Zero Conditional</a></li>
                    <li><a href="First_Conditional.html">First Conditional</a></li>
                    <li><a href="Second_Conditional.html">Second Conditional</a></li>
                    <li><a href="Third_Conditional.html">Third Conditional</a></li>
                    <li><a href="Direct_Speech.html">Direct Speech</a></li>
                    <li><a href="Indirect_Speech.html">Indirect Speech</a></li>
                    <li><a href="Direct_Indirect.html">Direct to Indirect</a></li>
                    <li><a href="Independent_Clauses.html">Independent Clauses</a></li>
                    <li><a href="Dependent_Clauses.html">Dependent Clauses</a></li>
                    <li><a href="Relative_Clauses.html">Relative Clauses</a></li>
                    <li><a href="Noun_Phrases.html">Noun Phrases</a></li>
                    <li><a href="Verb_Phrases.html">Verb Phrases</a></li>
                    <li><a href="Adjective_Phrases.html">Adjective Phrases</a></li>
                    <li><a href="Adverb_Phrases.html">Adverb Phrases</a></li>
                    <li><a href="Prepositional_Phrases.html">Prepositional Phrases</a></li>
                    <li><a href="Subject_verb_Agreement.html">Subject-verb Agreement</a></li>
                    <li><a href="Pronoun_Antecedent_Agreement.html">Pronoun-Antecedent Agreement</a></li>
                    <li><a href="Negation.html">Negation</a></li>
                    <li><a href="Gerunda_and_Indinitives.html">Gerunda and Indinitives</a></li>
                    <li><a href="Articles.html">Articles</a></li>
                    <li><a href="Determiners.html">Determiners</a></li>
                    <li><a href="Conjunctions_and_Connectors.html">Conjunctions and Connectors</a></li>
                    <li><a href="Parallelism.html">Parallelism</a></li>
                    <li><a href="Punctuation.html">Punctuation</a></li>
                    <li><a href="Capitallization.html">Capitallization</a></li>
                    <li><a href="Word_Order.html">Word Order</a></li>
                </ul>
            </li>
            
            <li>
                <span class="main_topic" id="togglevocabulary">Vocabulary</span> <!-- Change id to "togglegrammar" and text to "Grammar" -->
                <ul id="Vocabulary" class="sub_topic"> <!-- Change id to "Grammar" -->
                    <li><a href="Receptive_Vocabulary.html">Receptive Vocabulary</a></li>
                    <li><a href="Expressive_Vocabulary.html">Expressive Vocabulary</a></li>
                    <li><a href="General_Vocabulary.html">General Vocabulary</a></li>
                    <li><a href="Academic_Vocabulary.html">Academic Vocabulary</a></li>
                    <li><a href="Technical_Vocabulary.html">Technical Vocabulary</a></li>
                    <li><a href="Specialized_Vocabulary.html">Specialized Vocabulary</a></li>
                    <li><a href="Passive_Vocabulary.html">Passive Vocabulary</a></li>
                    <li><a href="Active_Vocabulary.html">Active Vocabulary</a></li>
                    <li><a href="Formal_Vocabulary.html">Formal Vocabulary</a></li>
                    <li><a href="Informal_Vocabulary.html">Informal Vocabulary</a></li>
                </ul>
            </li>

            <li>
                <span class="main_topic" id="togglePronunciation">Pronunciation Practise</span> <!-- Change id to "togglegrammar" and text to "Grammar" -->
                <ul id="Pronunciation" class="sub_topic"> <!-- Change id to "Grammar" -->
                    <li><a href="Phonetic_Sounds.html">Phonetic Sounds</a></li>
                    <li><a href="Word_structure.html">Word structure</a></li>
                    <li><a href="Speech_Patterns.html">Speech Patterns</a></li>
                    <li><a href="Intonation_and_Rhythm.html">Intonation & Rhythm</a></li>
                    <li><a href="General_Practice.html">General Practice</a></li>
                </ul>
            </li>
            <li><a href="Reading.html" class="main_topic">Reading</a></li>
            <li><a href="Listening.html" class="main_topic">Listening</a></li>
            <li><a href="Writing.html" class="main_topic">Writing</a></li>
            <li><a href="Speaking.html" class="main_topic">Speaking</a></li>          
        </ul>
    </div>

<main><section>
        <h2>Speaking</h2>
    
        <button onclick="startSpeechRecognition()">Start Recording</button>
        <button onclick="stopSpeechRecognition()">Stop Recording</button>
        
        <div id="output" style="padding-top: 20px;"></div>
    
        <script>
            let recognition;
            const outputElement = document.getElementById('output');
    
            function startSpeechRecognition() {
                recognition = new webkitSpeechRecognition();
                
                recognition.onstart = function() {
                    outputElement.textContent = 'Recording...';
                };
                
                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    outputElement.textContent = 'Text: ' + transcript;
                    // Now check grammar
                    checkGrammar(transcript);
                };
    
                recognition.onerror = function(event) {
                    outputElement.textContent = 'Error occurred: ' + event.error;
                };
    
                recognition.onend = function() {
    outputElement.innerHTML += `<span style="color: orange;">\nRecording stopped.</span>`;
};

    
                recognition.start();
            }
    
            function stopSpeechRecognition() {
                if (recognition) {
                    recognition.stop();
                }
            }
    
            async function checkGrammar(text) {
                const incorrectGrammar = await fetchLanguageTool(text);
                displayResult(incorrectGrammar);
            }
    
            async function fetchLanguageTool(text) {
                const url = 'https://languagetool.org/api/v2/check';
                const data = {
                    text,
                    language: 'en-US',
                };
    
                try {
                    const response = await fetch(url, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded',
                        },
                        body: new URLSearchParams(data),
                    });
    
                    const result = await response.json();
                    return result.matches.length > 0;
                } catch (error) {
                    console.error('Error checking grammar:', error);
                    return false;
                }
            }
    
            function displayResult(hasIncorrectGrammar) {
    const outputElement = document.getElementById('output');
    if (hasIncorrectGrammar) {
        outputElement.innerHTML += `<br><span style="color: red;">Incorrect grammar found! Please review your text.</span>`;
    } else {
        outputElement.innerHTML += `<br><span style="color: green;">Grammar is correct. Well done!</span>`;
    }
}

        </script>
    </section>
<p>Feel free to express yourself in English, and this AI-driven platform will assist you in refining your grammar, punctuation, and overall speaking tone. It focuses on the structure of your speech, ensuring proper spacing between words and accurate punctuation expression. Please note, it's designed to enhance your language skills, providing guidance on rhythm and pronunciation. However, for in-depth topic-specific preparation, connecting with a knowledgeable professor is recommended for a more comprehensive learning experience.</p>
<br>
<a href="../Exam.html"><button id="Next">Exam&nbsp;&#8649;</button></a>
     <a href="Writing.html"><button id="Previous">&#8647;&nbsp; Previous</button></a>
     <a href="../HTML_Files/Speaking.html"><button id="Practice">&#9728;&nbsp;Learn&nbsp;&#9728;</button></a>

     <br>
     <h4>
        Congratulations on completing your English learning journey! Your dedication and effort have brought you to this milestone. Embrace your achievement, and remember that language learning is an ongoing adventure. Best wishes for your continued success in mastering the English language!
     </h4>
     
</main>
</body>
</html>

